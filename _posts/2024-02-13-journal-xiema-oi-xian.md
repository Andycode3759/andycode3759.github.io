---
title: 【已完结】勰码省选集训营（西安）游记
date: 2024-02-13 22:16:34 +0800
categories: [游记]
tags: [勰码]
math: true
---

## Day 0 (2.13)

第一次去中国地势第二级阶梯，坐了一天的高铁。

宾馆、食堂、机房都是在西北工业大学校区里面，很方便，不用像[上次去济南]({{ "/posts/journal-biodo-oi-jinan" | relative_url }})那样每天到处找吃的。

参加了一个很正式的开营仪式 ~~（虽然因为迷路迟到了十分钟）~~，见到了很多金牌大佬。居然还有个签字环节，NOIP 都没有这种待遇。

21:40 才吃到晚饭，之前已经饿得低血糖了。西安的饮食似乎也没那么难接受，辣椒还是有的。

<!--prettier-ignore-start-->
![活的 LCA.jpg](https://ooo.0x0.ooo/2024/02/13/Ov22Hr.jpg)
_活的 LCA_

![还有 AK IOI 大佬.jpg](https://ooo.0x0.ooo/2024/02/13/Ov2j1c.jpg)
_还有 AK IOI 大佬_
<!--prettier-ignore-end-->

_PS: 作为一个有素质的 OIer，博客迁移后图片不会再传到洛谷图床上，而是改用第三方图床。由于第三方图床的服务可能不是很稳定，如果图片挂了可以联系我提醒换源。_

_你问我为什么不直接传到 Gitee 上？因为大文件（Git LFS）要收钱。_

## Day 1 (2.14)

最大流都没写过的我听了一上午的网络流专题 be like：

![](https://ooo.0x0.ooo/2024/02/15/Ov8IAF.jpg){: .w-25}

下午讲平面图稍微好一点，新东西还是学得进去的。后面讲的东西过于前沿科技，听不懂也无所谓了。

一整天都在拉肚子…… 21:00 下课已经又累又困，所以咕了一天游记。

## Day 2 (2.15)

### 上午

考试。因为机房电脑重启一次之后就会还原（而且还是 Windows 系统），图个方便就把自己的电脑带来了（其实昨天晚上就有同学带了）。

T1 想了半天一点思路都没有，试图构图/背包，都没有任何进展。写完暴力走人。

T2 树上 DP，写不出暴力。菊花图送了 10 分，链状的是个横坐标**不单调**的斜率优化 DP，不会写所以就放了。

T3 是[歌唱王国](https://www.luogu.com.cn/problem/P4548)加加加加强版（KMP $\to$ AC 自动机 + 不同字符出现概率不相等 + 动态询问），因为原题本来就没搞懂 ~~（套结论 A 掉的）~~ 所以更不会做了。

### 下午

讲题之前给某位同学过了个生日。

T1 本来写了个最简单的背包，套在一般情况上 WA 了，后来发现其实是可以用于全偶数的情况的。

然后就是一些图论杂题选讲，没啥参与感。

晚上随便做了点题，一天就这样了。

## Day 3 (2.16)

~~感觉每天都没啥好写的……因为参与感太低了吗~~

DP 专题。

## Day 4 (2.17)

模拟赛。

T1 第一眼看成了线段树区间修改模板，想着这不秒了吗，再一看原来区间两个端点要刚好卡住，又把刚写好的线段树删了。

想了一个指针往右跳 + 求区间 `lower_bound` 的做法，正确性是对的，但是复杂度玄学。后面又加上从右往左、改成两边一起跳，应该会快一点。

仔细分析了一下又可以离线，把所有线段按长度从小到大排序，可以避免在比询问还长的线段上浪费时间。果然快了不少。

之后看 T2，没想法，写暴力。

T3 也没想法，回头去看 T1 特殊性质。发现 $L=1$ 只要线段排序后打个标记预处理答案就好了。一开始以为按左端点排序，后面想想不对，改成按右端点排序，仔细一想还是不对，但是正确率会比按左端点排序更高一些。

然后就没有了。

代码没交上去就很疑惑。自测得分 $30$，T1 的 Subtask 3 被卡常了，T2 暴力太慢一分没有。

T1 扫描右端点就变成了线段树区间取最大 + 单点查值模板，表示没写过…… ~~（为什么都要省选了还是一堆东西没写过啊啊啊啊）~~

悟了悟前一天讲的 [AGC001E](https://atcoder.jp/contests/agc001/tasks/agc001_e)，悟透了。

晚上打了 [ABC341](https://atcoder.jp/contests/abc341)，一个小时 A 了四道题。

## Day 5 (2.18)

来点压位黑魔法：

```c++
struct Node
{
    unsigned long long a : 18, b : 23, c : 23;
};
```

这样 `a,b,c` 三个成员都可以当作 `int` 类型的变量使用，但一个 `Node` 只会占用一个 `long long` 的空间！不过三个变量的值域范围会小一些，因为指定了为 $2^{18}-1,2^{23}-1,2^{23}-1$。

晚上打了 [ARC172](https://atcoder.jp/contests/arc172)，两小时只做出一道题。赛后补题发现 B 和 C 都是结论题（

## Day 6 (2.19)

T1 想到要搜索，手推了个规律出来，对拍发现没对上，修了半天也没修对，暂时放下去看 T2。

T2 看到循环同构，暴力判也要 $O(m)$，想着写了暴力应该也没有分，开 T3。

T3 不会正解，但是把 $O(n^2)$ 写出来了，60 分到手，相当高兴。

晚上听 LCA ~~讲故事~~答疑。

## Day 7 (2.20)

数学和思维题串讲，唯一还算能跟得上的一天。

晚上试图补题，但永远调不出正解。

## Day 8 (2.21)

开题，T1 直接祖先链上 DP，正解想了想应该是把每个质因子看作一维坐标，然后用一个神奇的数据结构解偏序或者高维前缀和，但想不出这个神奇的数据结构是什么。

T2 非常慷慨地送了整整 40 分，DAG 上 DP 应该也可以做，但是列了几个式子手算都算不对。

T3 打完暴力走人。

T2 的分居然挂没了，定睛一看输出格式是一行两个数，程序写成分两行输出了……

晚上把 T2 DAG 的式子推对了，数学功底有待加强。

认识了一位河南来的高一选手，他说自己没用过 Linux！？

## Day 9 (2.22)

字符串专题。主讲老师自己就是研究字符串方向的，所以肯定要上点强度。

于是我们就对着一堆黑题发了一天呆（

晚上给 OI Wiki 交了 PR。不是编写什么高深的学术内容，是嫌赛制简介页面太老旧了给它翻了个新……

## Day 10 (2.23)

最后一场比赛。

T1 输出样例就能获得 10 分的高分。$n \leq 15$ 很明显是状压 DP，调了一会儿调对了。再一看下一档分 $n \leq 10^7$？？？那显然要么是线性 DP 要么是数学题。把车的位置看成排列，猜想答案应该和 $n!$ 有关，再把起点和终点联通这个条件转化成特定排列，稍微容斥一下就出来了。于是只要 $O(n)$ 预处理阶乘、阶乘前缀和、阶乘前缀和的前缀和即可 $O(1)$ 查询。

满分要 $n \leq 10^9$，应该要用到更高深的数学知识，不过 80 分已经相当可以了。

T2 一眼猜 LCT，不会写，写暴力，相信 10s 时限的宽容。

看完 T3 脑子里只有五个字：最小生成树，但是依赖关系不好处理，只好拿上送的 20 分遗憾离场。

出分后 T1 居然挂了 30 分，原来是状压 DP 太慢，数据组数一多就超时了。~~（因为切了部分分导致挂分）~~ 而且正解比较~~弱智~~暴力，分块打表这个技巧还是第一次见。

T2 正解也不是 LCT（虽然给 LCT 送了 20 分），而且原题就是 NOIP 2016 天天爱跑步，居然没看出来。

T3 本质是贪心题，听同学说有很神奇的扫描线 + 最大子段和做法。等回去慢慢悟吧。

下午结营仪式，送了个很好看的复旦立体贺卡。

仪式完了以后去西安城墙转了一圈，很好看。

## Day 11 (2.24)

人生第一次坐飞机。

早上 4 点起床，坐车一个半小时，在机场办票处和安检口又浪费了一个多小时后终于成功登机。

飞机明显感觉比高铁要挤、空间更小，不过快是真的快，跨半个中国只要一个多小时。

晚上继续卷，打了 [ABC342](https://atcoder.jp/contests/abc342)。

## 结语（写于 2.26）

很有可能是 OI 生涯最后一次出去培训了。在全国大佬云集的环境里，唯一的感受就是“知识就是意识到自己的无知”。

虽然水平很菜，但在~~越级~~听课、~~越级~~打比赛的过程中还是有不少收获的。

距离省选只剩不到一周的时间。一切遗憾都已经成为过去，现在能做的只有抓住宝贵的时间，过好这段备战期。
